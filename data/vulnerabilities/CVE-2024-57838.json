{
	"name": "CVE-2024-57838",
	"description": "In the Linux kernel, the following vulnerability has been resolved:s390/entry: Mark IRQ entries to fix stack depot warningsThe stack depot filters out everything outside of the top interruptcontext as an uninteresting or irrelevant part of the stack traces. Thishelps with stack trace de-duplication, avoiding an explosion of savedstack traces that share the same IRQ context code path but originatefrom different randomly interrupted points, eventually exhausting thestack depot.Filtering uses in_irqentry_text() to identify functions within the.irqentry.text and .softirqentry.text sections, which then become thelast stack trace entries being saved.While __do_softirq() is placed into the .softirqentry.text section bycommon code, populating .irqentry.text is architecture-specific.Currently, the .irqentry.text section on s390 is empty, which preventsstack depot filtering and de-duplication and could result in warningslike:Stack depot reached limit capacityWARNING: CPU: 0 PID: 286113 at lib/stackdepot.c:252 depot_alloc_stack+0x39a/0x3c8with PREEMPT and KASAN enabled.Fix this by moving the IO/EXT interrupt handlers from .kprobes.text intothe .irqentry.text section and updating the kprobes blacklist to includethe .irqentry.text section.This is done only for asynchronous interrupts and explicitly not forprogram checks, which are synchronous and where the context beyond theprogram check is important to preserve. Despite machine checks beingsomewhat in between, they are extremely rare, and preserving contextwhen possible is also of value.SVCs and Restart Interrupts are not relevant, one being always at theboundary to user space and the other being a one-time thing.IRQ entries filtering is also optionally used in ftrace function graph,where the same logic applies.",
	"type": "none",
	"severity": "none",
	"state": "published",
	"references": [
		"https://git.kernel.org/stable/c/1af22528fee8072b7adc007b8ca49cc4ea62689e",
		"https://git.kernel.org/stable/c/45c9f2b856a075a34873d00788d2e8a250c1effd",
		"https://git.kernel.org/stable/c/473ffae3030188f1c6b80e1b3631a26b4adf7b32",
		"https://git.kernel.org/stable/c/5bb7a2c3afcf8732dc65ea49c09147b07da1d993",
		"https://git.kernel.org/stable/c/ca687fdce5b95f84d91d6e36ac77047771eb3dfc"
	],
	"datetime": "2025-02-06 12:35:28",
	"connections": [],
	"devices": [],
	"distributions": [
		{
			"name": "debian",
			"version": "bookworm",
			"vendor": "debian-bookworm"
		},
		{
			"name": "debian",
			"version": "bullseye",
			"vendor": "debian-bullseye"
		},
		{
			"name": "debian",
			"version": "sid",
			"vendor": "debian-sid"
		},
		{
			"name": "debian",
			"version": "trixie",
			"vendor": "debian-trixie"
		}
	],
	"packages": [
		{
			"name": "linux",
			"version": "\u003c 0:6.1.123-1",
			"architecture": "any",
			"manager": "apt",
			"vendor": "debian-bookworm"
		},
		{
			"name": "linux",
			"version": "any",
			"architecture": "any",
			"manager": "apt",
			"vendor": "debian-bullseye"
		},
		{
			"name": "linux",
			"version": "\u003c 6.1.123-1",
			"architecture": "any",
			"manager": "apt",
			"vendor": "debian-bookworm"
		},
		{
			"name": "linux",
			"version": "\u003c 6.12.5-1",
			"architecture": "any",
			"manager": "apt",
			"vendor": "debian-sid"
		}
	],
	"products": [],
	"programs": [],
	"weaknesses": []
}