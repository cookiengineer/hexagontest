{
	"name": "CVE-2024-57939",
	"description": "In the Linux kernel, the following vulnerability has been resolved:riscv: Fix sleeping in invalid context in die()die() can be called in exception handler, and therefore cannot sleep.However, die() takes spinlock_t which can sleep with PREEMPT_RT enabled.That causes the following warning:BUG: sleeping function called from invalid context at kernel/locking/spinlock_rt.c:48in_atomic(): 1, irqs_disabled(): 1, non_block: 0, pid: 285, name: mutexpreempt_count: 110001, expected: 0RCU nest depth: 0, expected: 0CPU: 0 UID: 0 PID: 285 Comm: mutex Not tainted 6.12.0-rc7-00022-ge19049cf7d56-dirty #234Hardware name: riscv-virtio,qemu (DT)Call Trace:    dump_backtrace+0x1c/0x24    show_stack+0x2c/0x38    dump_stack_lvl+0x5a/0x72    dump_stack+0x14/0x1c    __might_resched+0x130/0x13a    rt_spin_lock+0x2a/0x5c    die+0x24/0x112    do_trap_insn_illegal+0xa0/0xea    _new_vmalloc_restore_context_a0+0xcc/0xd8Oops - illegal instruction [#1]Switch to use raw_spinlock_t, which does not sleep even with PREEMPT_RTenabled.",
	"type": "none",
	"severity": "none",
	"state": "published",
	"references": [
		"https://git.kernel.org/stable/c/10c24df2e303f517fab0359392c11b6b1d553f2b",
		"https://git.kernel.org/stable/c/6a97f4118ac07cfdc316433f385dbdc12af5025e",
		"https://git.kernel.org/stable/c/76ab0afcdbe8c9685b589016ee1c0e25fe596707",
		"https://git.kernel.org/stable/c/c21df31fc2a4afc02a6e56511364e9e793ea92ec",
		"https://git.kernel.org/stable/c/f48f060a4b36b5e96628f6c3fb1540f1e8dedb69"
	],
	"datetime": "2025-02-06 12:35:29",
	"connections": [],
	"devices": [],
	"distributions": [
		{
			"name": "debian",
			"version": "bookworm",
			"vendor": "debian-bookworm"
		},
		{
			"name": "debian",
			"version": "bullseye",
			"vendor": "debian-bullseye"
		},
		{
			"name": "debian",
			"version": "sid",
			"vendor": "debian-sid"
		},
		{
			"name": "debian",
			"version": "trixie",
			"vendor": "debian-trixie"
		}
	],
	"packages": [
		{
			"name": "linux",
			"version": "any",
			"architecture": "any",
			"manager": "apt",
			"vendor": "debian-bookworm"
		},
		{
			"name": "linux",
			"version": "\u003c 6.12.10-1",
			"architecture": "any",
			"manager": "apt",
			"vendor": "debian-sid"
		}
	],
	"products": [],
	"programs": [],
	"weaknesses": []
}